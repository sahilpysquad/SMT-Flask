<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Cities{% endblock %}</title>
</head>

<body>
  <h1>Cities</h1>
  {% with messages=get_flashed_messages() %}
  {% if messages %}{{ messages[0] }}{% endif %}
  {% endwith %}
  <form method="post" action="{{ url_for('cities') }}">
    {{ form.csrf_token }}
    {{ form.name.label }}     {{ form.name }}
    {{ form.state_id.label }}     {{ form.state_id }}
    <input type="submit" value="Submit">
  </form><br><br>

<table>
  <tr>
    <th>No.</th>
    <th>Name</th>
    <th>State</th>
  </tr>
  {% for city in cities %}
  <tr>
    <td>{{ city.id }}</td>
    <td>{{ city.name }}</td>
    <td>{{ city.state.name }}</td>
  </tr>
  {% endfor %}
</table>
</body>
</html>